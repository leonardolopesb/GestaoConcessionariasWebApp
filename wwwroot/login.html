<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <title>Login</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/site.css" rel="stylesheet">
</head>

<body class="auth-wrapper container py-5" style="max-width:480px">
    <div class="card auth-card p-4">
        <h1 class="mb-4">Login</h1>

        <form id="frmLogin" class="vstack gap-3">
            <input id="email" class="form-control" placeholder="E-mail" />
            <input id="password" class="form-control" type="password" placeholder="Senha" />
            <button class="btn btn-primary btn-sm">Entrar</button>
        </form>

        <div id="msg" class="mt-3 text-danger"></div>
    </div>

    <script>
        document.getElementById('frmLogin').addEventListener('submit', async (e) => {
            e.preventDefault();
            const body = { Email: email.value, Password: password.value };
            const r = await fetch('/auth/login', {
                method: 'POST', headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(body)
            });
            if (r.ok) {
                location.href = '/admin-home.html';
            } else {
                msg.textContent = 'Credenciais inv√°lidas.';
            }
        });
    </script>
</body>

</html>