<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <title>Admin - Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/site.css" rel="stylesheet">
</head>

<body class="container py-4">
    <nav class="mb-4">
        <a class="btn btn-outline-primary me-2" href="/fabricantes/fabricantes.html">Fabricantes</a>
        <a class="btn btn-outline-secondary me-2" href="/fabricantes/fabricantes-deletados.html">Deletados</a>
        <a class="btn btn-success me-2" href="/register.html">Registrar Usuário</a>
        <button class="btn btn-danger" id="btnLogout">Sair</button>
    </nav>

    <h1>Dashboard do Administrador</h1>
    <p>Use as opções acima para gerenciar o sistema.</p>

    <div id="msg" class="mt-3 text-danger"></div>

    <script>
        // Realizando logout
        document.getElementById('btnLogout').addEventListener('click', async () => {
            await fetch('/auth/logout', { method: 'POST' });
            location.href = '/login.html';
        });

        // Observação: como não temos endpoint "me",
        // a proteção real é feita nos Controllers com [Authorize].
        // Se o usuário não for admin, ao tentar chamar APIs de admin receberá 403.
        // (Opcional) você pode esconder/mostrar botões após uma chamada de "ping" protegido.
    </script>
</body>

</html>